<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../dist/main.css">
  <title>Twitter register page</title>
</head>
<body class="bg-bleu h-screen w-screen flex ">
  <div class="m-auto w-[600px] h-[650px]  bg-black rounded-2xl">
    
    <div class="bg-black h-[10%]">
      <h2 class="text-twitter-white text-lg pt-3 pl-[12%]">Étapes 2/5</h2>
    </div>

    <div class="h-[90%] w-[72%] bg-white m-auto">
      <h1 class="text-3xl text-twitter-white bg-black h-[12%] pl-2">Créer votre compte</h1>
      <form action="" class="relative bg-black h-[88%]" >
        
        <p class=" mb-2 text-sm text-twitter-white ">Date de naissance</p>
        <p class=" text-sm text-[#71767A] pb-3">
          Cette information ne sera pas affichée publiquement. Confirmez votre âge, même si ce compte est pour une entreprise, un animal de compagnie ou autre chose.
        </p>

        <input type="date" name="" id="dateInput" class=" w-full ">
        <div class=" relative flex justify-between">

          <div class="w-[45%] h-11  relative">
            <label class=" absolute top-1 left-2 text-xs text-[#71767A]" for="monthInput">
              Mois
            </label>
            <select class="w-full h-full pl-2 pt-4 bg-black  text-twitter-white text-sm  appearance-none border border-[#333639] focus:outline-none focus:ring-2 focus:ring-[#1A8BD6] rounded " name="" id="monthInput">
              <option value="" selected></option>
              <option value="0">Janvier</option>
              <option value="1">Février</option>
              <option value="2">Mars</option>
              <option value="3">Avril</option>
              <option value="4">Mai</option>
              <option value="5">Juin</option>
              <option value="6">Juillet</option>
              <option value="7">Aout</option>
              <option value="8">Septembre</option>
              <option value="9">Octobre</option>
              <option value="10">Novembre</option>
              <option value="11">Décembre</option>
            </select>
          </div>

          <div class="w-[22%] relative">
            <label class=" absolute top-1 left-2 text-xs text-[#71767A]" for="dayInput">
              Jour
            </label>
            <select class="w-full h-full pl-2 pt-4 bg-black  text-twitter-white text-sm appearance-none border border-[#333639] focus:outline-none focus:ring-2 focus:ring-[#1A8BD6] rounded " name="" id="dayInput">
              <option value="" selected></option>
              option{$}*31
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="26">26</option>
              <option value="27">27</option>
              <option value="28">28</option>
              <option value="29">29</option>
              <option value="30">30</option>
              <option value="31">31</option>
            </select>
          </div>

          <div class="w-[25%] relative">
            <label class="absolute top-1 left-2 text-xs text-[#71767A]" for="yearInput">
              Année
            </label>
            <select class="w-full h-full pl-2 pt-4 bg-black  text-twitter-white text-sm appearance-none border border-[#333639] focus:outline-none  focus:ring-2 focus:ring-[#1A8BD6] rounded " name="" id="yearInput">
              <option value="" selected></option>
            </select>
          </div>
        </div>

        <a href="etape3.html" class="absolute bottom-5 block text-center w-full  py-3 bg-[#777A7A] rounded-full text-[#080A0E] text-sm font-extrabold  ">
          Suivant
          <!-- <button class="w-full mt-32 py-3 bg-[#777A7A] rounded-full text-[#080A0E] text-sm font-extrabold  " type="submit" value="Suivant" id=""> Suivant </button> -->
        </a>
      </form>
    </div>

  </div>

  <script type="text/javascript">

    const table = [monthInput, dayInput, yearInput];

    // change la couleur du label d'un input
    table.forEach(element => {
      const label = element.labels[0];
      // console.log(label);

    element.addEventListener('focus', () => {
      label.classList.remove('text-[#71767A]');
      label.classList.add('text-[#1A8BD6]');
            //console.log(label);
    })
        
    element.addEventListener('blur', () => {
        label.classList.remove('text-[#1A8BD6]');
        label.classList.add('text-[#71767A]');
            //console.log(label);
      })
    })

    dateInput.addEventListener('change', function() {
      const selectedDate = new Date(this.value);

      dayInput.value = selectedDate.getDate();
      monthInput.value = selectedDate.getMonth() + 1; // Les mois sont indexés à partir de 0, donc on ajoute 1
      yearInput.value = selectedDate.getFullYear();
    });

    const currentYear = new Date().getFullYear();
    const startYear = currentYear - 150; // Année de départ (par exemple, 150 ans en arrière)

    for (let yearList = currentYear; yearList >= startYear; yearList--) {
      const option = document.createElement('option');
      option.innerHTML = yearList;
      yearInput.appendChild(option);

    }

    const button = document.querySelector('a');

    function checkDateInput() {
      const isDateInputFilled = dateInput.value.trim() !== '';

      button.classList.toggle('bg-[#777A7A]', !isDateInputFilled);
      button.classList.toggle('bg-twitter-white', isDateInputFilled);

    }

    dateInput.addEventListener('change', checkDateInput )

    button.addEventListener('click', event => {
      !button.classList.contains('bg-twitter-white') ? event.preventDefault() : null;
    });
    
  </script>
</body>
</html>

<!-- evenement keyUp -->